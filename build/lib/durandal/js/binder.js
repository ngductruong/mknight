define(["durandal/system","knockout"],function(e,t){function n(t){return void 0===t?{applyBindings:!0}:e.isBoolean(t)?{applyBindings:t}:(void 0===t.applyBindings&&(t.applyBindings=!0),t)}function r(r,l,c,d){if(!l||!c)return o.throwOnErrors?e.error(a):e.log(a,l,d),void 0;if(!l.getAttribute)return o.throwOnErrors?e.error(i):e.log(i,l,d),void 0;var f=l.getAttribute("data-view");try{var v;return r&&r.binding&&(v=r.binding(l)),v=n(v),o.binding(d,l,v),v.applyBindings?(e.log("Binding",f,d),t.applyBindings(c,l)):r&&t.utils.domData.set(l,u,{$data:r}),o.bindingComplete(d,l,v),r&&r.bindingComplete&&r.bindingComplete(l),t.utils.domData.set(l,s,v),v}catch(p){p.message=p.message+";\nView: "+f+";\nModuleId: "+e.getModuleId(d),o.throwOnErrors?e.error(p):e.log(p.message)}}var o,a="Insufficient Information to Bind",i="Unexpected View Type",s="durandal-binding-instruction",u="__ko_bindingContext__";return o={binding:e.noop,bindingComplete:e.noop,throwOnErrors:!1,getBindingInstruction:function(e){return t.utils.domData.get(e,s)},bindContext:function(e,t,n){return n&&e&&(e=e.createChildContext(n)),r(n,t,e,n||(e?e.$data:null))},bind:function(e,t){return r(e,t,e,e)}}});